---
phase: 28-localization-string-extraction
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - globcrm-web/src/assets/i18n/emails/en.json
  - globcrm-web/src/assets/i18n/emails/tr.json
  - globcrm-web/src/assets/i18n/email-templates/en.json
  - globcrm-web/src/assets/i18n/email-templates/tr.json
  - globcrm-web/src/assets/i18n/sequences/en.json
  - globcrm-web/src/assets/i18n/sequences/tr.json
  - globcrm-web/src/assets/i18n/notes/en.json
  - globcrm-web/src/assets/i18n/notes/tr.json
  - globcrm-web/src/assets/i18n/feed/en.json
  - globcrm-web/src/assets/i18n/feed/tr.json
  - globcrm-web/src/app/features/emails/emails.routes.ts
  - globcrm-web/src/app/features/email-templates/email-templates.routes.ts
  - globcrm-web/src/app/features/sequences/sequences.routes.ts
  - globcrm-web/src/app/features/notes/notes.routes.ts
  - globcrm-web/src/app/features/feed/feed.routes.ts
autonomous: true
requirements:
  - LOCL-03
  - LOCL-10

must_haves:
  truths:
    - "Email list, detail, and compose pages render all labels in the selected language"
    - "Email template list, editor, and preview pages render all labels in the selected language"
    - "Sequence list, detail, builder, enrollment, and analytics pages render all labels in the selected language"
    - "Notes list, detail, and form pages render all labels in the selected language"
    - "Feed list, post form, and emoji picker render all labels in the selected language"
  artifacts:
    - path: "globcrm-web/src/assets/i18n/emails/en.json"
      provides: "Emails feature English translations"
      contains: "list"
    - path: "globcrm-web/src/assets/i18n/email-templates/en.json"
      provides: "Email templates feature English translations"
      contains: "list"
    - path: "globcrm-web/src/assets/i18n/sequences/en.json"
      provides: "Sequences feature English translations"
      contains: "list"
    - path: "globcrm-web/src/assets/i18n/notes/en.json"
      provides: "Notes feature English translations"
      contains: "list"
    - path: "globcrm-web/src/assets/i18n/feed/en.json"
      provides: "Feed feature English translations"
      contains: "list"
  key_links:
    - from: "globcrm-web/src/app/features/emails/emails.routes.ts"
      to: "globcrm-web/src/assets/i18n/emails/en.json"
      via: "provideTranslocoScope('emails')"
      pattern: "provideTranslocoScope.*emails"
    - from: "globcrm-web/src/app/features/sequences/sequences.routes.ts"
      to: "globcrm-web/src/assets/i18n/sequences/en.json"
      via: "provideTranslocoScope('sequences')"
      pattern: "provideTranslocoScope.*sequences"
---

<objective>
Create translation scopes and extract all hardcoded strings for communication and collaboration features: emails, email-templates, sequences, notes, and feed.

Purpose: These five features handle all communication-related functionality in the CRM. Sequences is the most complex with builder + enrollment + analytics components (~50 strings). Email templates has editor + preview + merge panel (~45 strings). The others are moderate in size.

Output: Five new translation scopes with EN/TR JSON files, route wiring, and all component templates using transloco pipe.
</objective>

<execution_context>
@C:/Users/maliy/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/maliy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/28-localization-string-extraction/28-CONTEXT.md
@.planning/phases/28-localization-string-extraction/28-RESEARCH.md
@.planning/phases/27-localization-foundation/27-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create emails, email-templates, and sequences scopes with JSON files, route wiring, and template string replacement</name>
  <files>
    globcrm-web/src/assets/i18n/emails/en.json
    globcrm-web/src/assets/i18n/emails/tr.json
    globcrm-web/src/assets/i18n/email-templates/en.json
    globcrm-web/src/assets/i18n/email-templates/tr.json
    globcrm-web/src/assets/i18n/sequences/en.json
    globcrm-web/src/assets/i18n/sequences/tr.json
    globcrm-web/src/app/features/emails/emails.routes.ts
    globcrm-web/src/app/features/email-templates/email-templates.routes.ts
    globcrm-web/src/app/features/sequences/sequences.routes.ts
  </files>
  <action>
For each feature (emails, email-templates, sequences):

1. Read ALL component files in the feature directory (HTML templates and inline TS templates). Catalog every hardcoded English string including snackBar.open() calls.

2. Create scope JSON files (en.json + tr.json) with page-section grouping:

**Emails scope** (`assets/i18n/emails/`):
- `title`, `list.*` (title, subtitle, compose button, empty state, inbox/sent/draft filter labels)
- `detail.*` (subject, from, to, cc, bcc, date, body, attachments labels)
- `compose.*` (title, to/cc/bcc fields, subject, body, send button, draft save, attachment labels)
- `messages.*` (sent, sendFailed, drafted, deleted, etc.)

**Email templates scope** (`assets/i18n/email-templates/`):
- `title`, `list.*` (title, subtitle, createButton, empty state, category labels)
- `editor.*` (title, subject, body, merge fields panel labels, save/preview buttons, merge field categories)
- `preview.*` (title, send test email, select recipient)
- `clone.*` (dialog title, name field)
- `messages.*` (saved, deleted, cloned, testSent success/failure)

**Sequences scope** (`assets/i18n/sequences/`):
- `title`, `list.*` (title, subtitle, createButton, empty state, status labels)
- `detail.*` (title, status, metrics labels, enrollment count, open rate, reply rate)
- `builder.*` (add step, step types, delay configuration, template selection, email step labels)
- `enrollment.*` (enroll contacts, search, enrolled count, unenroll)
- `analytics.*` (step performance, open rate, click rate, reply rate, bounce rate)
- `messages.*` (activated, paused, deleted, enrolled, unenrolled success/failure)

3. Wire `provideTranslocoScope()` in each route file.

4. Add `TranslocoPipe` to all component imports. Replace all hardcoded strings. Inject `TranslocoService` for snackbar calls. Use global `common.*` keys for common labels.

Turkish translations: E-postalar (Emails), E-posta Sablonlari (Email Templates), Diziler/Sekanslar (Sequences -- use the common Turkish SaaS term). Keep "siz" form. Email-related English loanwords to keep: "E-posta" is the standard Turkish term.
  </action>
  <verify>
Run `cd globcrm-web && npx ng build --configuration development 2>&1 | head -50`. Verify scope wiring in all three route files. Verify EN/TR key parity for each scope.
  </verify>
  <done>Emails, email-templates, and sequences scopes created with complete EN/TR translations, routes wired, all templates using transloco pipe. Angular builds without errors.</done>
</task>

<task type="auto">
  <name>Task 2: Create notes and feed scopes with JSON files, route wiring, and template string replacement</name>
  <files>
    globcrm-web/src/assets/i18n/notes/en.json
    globcrm-web/src/assets/i18n/notes/tr.json
    globcrm-web/src/assets/i18n/feed/en.json
    globcrm-web/src/assets/i18n/feed/tr.json
    globcrm-web/src/app/features/notes/notes.routes.ts
    globcrm-web/src/app/features/feed/feed.routes.ts
  </files>
  <action>
For each feature (notes, feed):

1. Read ALL component files. Notes likely has inline templates (list, detail, form). Feed has inline templates (list, post-form, emoji-picker, mention).

2. Create scope JSON files:

**Notes scope** (`assets/i18n/notes/`):
- `title`, `list.*` (title, subtitle, addButton, empty state)
- `detail.*` (title, field labels, content, relatedEntity, created, lastUpdated)
- `form.*` (createTitle, editTitle, content placeholder, related entity selector)
- `messages.*` (saved, deleted success/failure)

**Feed scope** (`assets/i18n/feed/`):
- `title`, `list.*` (title, empty state, load more)
- `post.*` (createPost, placeholder like "What's happening?", post button, comment placeholder, comment button)
- `reactions.*` (emoji labels if any, like/unlike)
- `comments.*` (addComment, noComments, reply, edited)
- `messages.*` (posted, deleted, commentAdded success/failure)

3. Wire `provideTranslocoScope()` in each route file.

4. Add `TranslocoPipe` to all component imports. Replace all hardcoded strings. Inject `TranslocoService` for snackbar calls.

Turkish translations: Notlar (Notes), Akis (Feed). Keep "siz" form and professional vocabulary.
  </action>
  <verify>
Run `cd globcrm-web && npx ng build --configuration development 2>&1 | head -50`. Verify scope wiring and key parity.
  </verify>
  <done>Notes and feed scopes created with complete EN/TR translations, routes wired, all templates using transloco pipe. Angular builds without errors.</done>
</task>

</tasks>

<verification>
- `cd globcrm-web && npx ng build --configuration development` compiles without errors
- All five route files have provideTranslocoScope wired
- Ten new JSON files with identical EN/TR key structures
- Run dev server, navigate to Emails in Turkish -- all labels display in Turkish
</verification>

<success_criteria>
- Emails, email-templates, sequences, notes, feed each have provideTranslocoScope in routes
- Ten new JSON files (en.json + tr.json for each) with comprehensive translations
- All component templates use transloco pipe for every hardcoded string
- All snackBar.open() calls use translated messages
- Angular project compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/28-localization-string-extraction/28-04-SUMMARY.md`
</output>
