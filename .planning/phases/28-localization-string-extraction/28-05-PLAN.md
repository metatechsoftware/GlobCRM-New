---
phase: 28-localization-string-extraction
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - globcrm-web/src/assets/i18n/dashboard/en.json
  - globcrm-web/src/assets/i18n/dashboard/tr.json
  - globcrm-web/src/assets/i18n/my-day/en.json
  - globcrm-web/src/assets/i18n/my-day/tr.json
  - globcrm-web/src/assets/i18n/calendar/en.json
  - globcrm-web/src/assets/i18n/calendar/tr.json
  - globcrm-web/src/assets/i18n/reports/en.json
  - globcrm-web/src/assets/i18n/reports/tr.json
  - globcrm-web/src/assets/i18n/workflows/en.json
  - globcrm-web/src/assets/i18n/workflows/tr.json
  - globcrm-web/src/app/features/dashboard/dashboard.routes.ts
  - globcrm-web/src/app/features/my-day/my-day.routes.ts
  - globcrm-web/src/app/features/calendar/calendar.routes.ts
  - globcrm-web/src/app/features/reports/reports.routes.ts
  - globcrm-web/src/app/features/workflows/workflows.routes.ts
autonomous: true
requirements:
  - LOCL-03
  - LOCL-10

must_haves:
  truths:
    - "Dashboard with all widget labels, KPI titles, chart labels, and configuration dialogs renders in the selected language"
    - "My Day personal dashboard with all widget labels renders in the selected language"
    - "Calendar page labels render in the selected language"
    - "Report builder, gallery, and viewer pages render all labels in the selected language"
    - "Workflow list, detail, builder with all node types, panels, and toolbars render in the selected language"
  artifacts:
    - path: "globcrm-web/src/assets/i18n/dashboard/en.json"
      provides: "Dashboard feature English translations"
      contains: "widgets"
    - path: "globcrm-web/src/assets/i18n/my-day/en.json"
      provides: "My Day feature English translations"
      contains: "widgets"
    - path: "globcrm-web/src/assets/i18n/reports/en.json"
      provides: "Reports feature English translations"
      contains: "builder"
    - path: "globcrm-web/src/assets/i18n/workflows/en.json"
      provides: "Workflows feature English translations"
      contains: "builder"
  key_links:
    - from: "globcrm-web/src/app/features/dashboard/dashboard.routes.ts"
      to: "globcrm-web/src/assets/i18n/dashboard/en.json"
      via: "provideTranslocoScope('dashboard')"
      pattern: "provideTranslocoScope.*dashboard"
    - from: "globcrm-web/src/app/features/workflows/workflows.routes.ts"
      to: "globcrm-web/src/assets/i18n/workflows/en.json"
      via: "provideTranslocoScope('workflows')"
      pattern: "provideTranslocoScope.*workflows"
---

<objective>
Create translation scopes and extract all hardcoded strings for analytics and workflow features: dashboard, my-day, calendar, reports, and workflows.

Purpose: These features have the highest inline-template component count (~40 inline components across dashboard widgets, report viewer components, and workflow builder nodes/panels). Dashboard has ~70 strings across 12+ widget components, workflows has ~80 strings across node types and builder UI, reports has ~50 strings in builder/gallery/viewer.

Output: Five new translation scopes with EN/TR JSON files, route wiring, and all component templates using transloco pipe.
</objective>

<execution_context>
@C:/Users/maliy/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/maliy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/28-localization-string-extraction/28-CONTEXT.md
@.planning/phases/28-localization-string-extraction/28-RESEARCH.md
@.planning/phases/27-localization-foundation/27-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create dashboard, my-day, and calendar scopes with JSON files, route wiring, and template string replacement</name>
  <files>
    globcrm-web/src/assets/i18n/dashboard/en.json
    globcrm-web/src/assets/i18n/dashboard/tr.json
    globcrm-web/src/assets/i18n/my-day/en.json
    globcrm-web/src/assets/i18n/my-day/tr.json
    globcrm-web/src/assets/i18n/calendar/en.json
    globcrm-web/src/assets/i18n/calendar/tr.json
    globcrm-web/src/app/features/dashboard/dashboard.routes.ts
    globcrm-web/src/app/features/my-day/my-day.routes.ts
    globcrm-web/src/app/features/calendar/calendar.routes.ts
  </files>
  <action>
For each feature (dashboard, my-day, calendar):

1. Read ALL component files including the many inline-template widget components. Dashboard has ~12 inline components (grid, widgets, selectors, dialogs, target management). My-day has ~8 inline widget components.

2. Create scope JSON files:

**Dashboard scope** (`assets/i18n/dashboard/`):
- `title`, `list.*` or `header.*` (title "Dashboard", subtitle, configuration button)
- `widgets.*`: KPI widget labels (total deals, revenue, conversion rate, activities due, etc.), chart titles, widget type names for selector, empty widget states
- `config.*`: add widget dialog, widget selector, grid layout labels, remove widget confirmation
- `targets.*`: target management labels (set target, current vs target, progress percentage)
- `filters.*`: date range selector labels (Today, This Week, This Month, This Quarter, Custom Range)
- `messages.*`: saved, updated, reset success/failure

**My Day scope** (`assets/i18n/my-day/`):
- `title`: "My Day"
- `widgets.*`: each widget type (upcoming activities, overdue tasks, recent deals, recent contacts, quick actions, weather/greeting if present), widget titles, empty states, item labels
- `greeting.*`: greeting messages if present (Good morning, Good afternoon, etc.)
- `messages.*`: any snackbar messages

**Calendar scope** (`assets/i18n/calendar/`):
- `title`: "Calendar"
- `header.*`: view toggle labels (Month, Week, Day), today button, navigation labels
- `event.*`: event type labels, create event, event details
- `messages.*`: any snackbar messages

3. Wire `provideTranslocoScope()` in each route file.

4. Add `TranslocoPipe` to ALL component imports (including every inline-template widget component). Replace all hardcoded strings. Inject `TranslocoService` for snackbar calls.

Turkish translations: Dashboard = "Dashboard" (keep as English loanword per CONTEXT.md), Takvim (Calendar). Keep "siz" form. Widget labels should use professional CRM Turkish.

IMPORTANT: Dashboard and my-day have many small inline-template components. Make sure to find and update ALL of them, not just the main page component. List the directory contents first to identify every component file.
  </action>
  <verify>
Run `cd globcrm-web && npx ng build --configuration development 2>&1 | head -50`. Verify scope wiring. Count TranslocoPipe imports to ensure all inline components are covered: `grep -rn "TranslocoPipe" src/app/features/dashboard/ src/app/features/my-day/ src/app/features/calendar/ --include="*.ts" -l | wc -l`.
  </verify>
  <done>Dashboard, my-day, and calendar scopes created with complete EN/TR translations covering all widget components, routes wired, all templates using transloco pipe. Angular builds without errors.</done>
</task>

<task type="auto">
  <name>Task 2: Create reports and workflows scopes with JSON files, route wiring, and template string replacement</name>
  <files>
    globcrm-web/src/assets/i18n/reports/en.json
    globcrm-web/src/assets/i18n/reports/tr.json
    globcrm-web/src/assets/i18n/workflows/en.json
    globcrm-web/src/assets/i18n/workflows/tr.json
    globcrm-web/src/app/features/reports/reports.routes.ts
    globcrm-web/src/app/features/workflows/workflows.routes.ts
  </files>
  <action>
For each feature (reports, workflows):

1. Read ALL component files. Reports has ~7 inline components (viewer components, panels, card) plus 2 HTML templates (builder, gallery). Workflows has ~12 inline components (nodes, panels, toolbar, canvas, logs, card, save-dialog) plus 3 HTML templates (list, detail, builder).

2. Create scope JSON files:

**Reports scope** (`assets/i18n/reports/`):
- `title`, `gallery.*` (title, createButton, empty state, category labels, report cards)
- `builder.*` (title, entity selector, field picker, filter configuration, chart type selector, group by, aggregate functions: Count/Sum/Avg/Min/Max, preview, save, export labels)
- `viewer.*` (chart labels, data table headers, drill-down labels, export options: CSV/PDF)
- `filters.*` (date range, entity filters, field conditions)
- `messages.*` (saved, deleted, exported success/failure)

**Workflows scope** (`assets/i18n/workflows/`):
- `title`, `list.*` (title, subtitle, createButton, empty state, active/inactive filter)
- `detail.*` (title, status toggle, last run, execution count, field labels)
- `builder.*` (canvas labels, toolbar labels, save dialog, validation messages)
- `nodes.*`: EACH action type needs labels:
  - Trigger nodes (entity created, updated, deleted, field changed, date trigger, manual)
  - Action nodes (send email, create activity, update field, send webhook, add tag, wait/delay)
  - Condition nodes (if/else labels, field comparison operators)
  - Branch labels, connection labels
- `logs.*` (execution log labels, status: success/failed/pending, timestamp, step details)
- `messages.*` (activated, deactivated, saved, deleted, executed success/failure)

3. Wire `provideTranslocoScope()` in each route file.

4. Add `TranslocoPipe` to ALL component imports (every inline node/panel/toolbar component). Replace all hardcoded strings. Inject `TranslocoService` for snackbar calls.

Turkish translations: Raporlar (Reports), Is Akislari (Workflows). Builder terms: Olusturucu (Builder), Tetikleyici (Trigger), Aksiyon (Action), Kosul (Condition). Keep professional vocabulary.

IMPORTANT: Workflows has the most inline-template components of any feature. List the directory recursively and process every .component.ts file.
  </action>
  <verify>
Run `cd globcrm-web && npx ng build --configuration development 2>&1 | head -50`. Verify scope wiring. Count: `grep -rn "TranslocoPipe" src/app/features/reports/ src/app/features/workflows/ --include="*.ts" -l | wc -l`.
  </verify>
  <done>Reports and workflows scopes created with complete EN/TR translations covering all builder, node, and panel components, routes wired, all templates using transloco pipe. Angular builds without errors.</done>
</task>

</tasks>

<verification>
- `cd globcrm-web && npx ng build --configuration development` compiles without errors
- All five route files have provideTranslocoScope wired
- Ten new JSON files with identical EN/TR key structures
- Run dev server, navigate to Dashboard in Turkish -- widget titles, KPIs, config dialogs display in Turkish
- Navigate to Workflow builder in Turkish -- all node labels, toolbar, panels display in Turkish
</verification>

<success_criteria>
- Dashboard, my-day, calendar, reports, workflows each have provideTranslocoScope in routes
- Ten new JSON files with comprehensive translations including all widget and builder component strings
- All inline-template components (~40 across these features) have TranslocoPipe imported
- All snackBar.open() calls use translated messages
- Angular project compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/28-localization-string-extraction/28-05-SUMMARY.md`
</output>
