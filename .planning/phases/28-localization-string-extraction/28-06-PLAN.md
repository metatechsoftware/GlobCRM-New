---
phase: 28-localization-string-extraction
plan: 06
type: execute
wave: 1
depends_on: []
files_modified:
  - globcrm-web/src/assets/i18n/auth/en.json
  - globcrm-web/src/assets/i18n/auth/tr.json
  - globcrm-web/src/assets/i18n/onboarding/en.json
  - globcrm-web/src/assets/i18n/onboarding/tr.json
  - globcrm-web/src/assets/i18n/profile/en.json
  - globcrm-web/src/assets/i18n/profile/tr.json
  - globcrm-web/src/assets/i18n/import/en.json
  - globcrm-web/src/assets/i18n/import/tr.json
  - globcrm-web/src/assets/i18n/duplicates/en.json
  - globcrm-web/src/assets/i18n/duplicates/tr.json
  - globcrm-web/src/assets/i18n/settings/en.json
  - globcrm-web/src/assets/i18n/settings/tr.json
  - globcrm-web/src/app/features/auth/auth.routes.ts
  - globcrm-web/src/app/features/auth/pages/login/login.component.ts
  - globcrm-web/src/app/features/auth/pages/login/login.component.html
  - globcrm-web/src/app/features/auth/pages/signup/signup.component.ts
  - globcrm-web/src/app/features/auth/pages/signup/signup.component.html
  - globcrm-web/src/app/features/auth/pages/signup/create-org/create-org.component.ts
  - globcrm-web/src/app/features/auth/pages/signup/create-org/create-org.component.html
  - globcrm-web/src/app/features/auth/pages/signup/join-org/join-org.component.ts
  - globcrm-web/src/app/features/auth/pages/signup/join-org/join-org.component.html
  - globcrm-web/src/app/features/auth/pages/forgot-password/forgot-password.component.ts
  - globcrm-web/src/app/features/auth/pages/forgot-password/forgot-password.component.html
  - globcrm-web/src/app/features/auth/pages/reset-password/reset-password.component.ts
  - globcrm-web/src/app/features/auth/pages/reset-password/reset-password.component.html
  - globcrm-web/src/app/features/auth/pages/two-factor/two-factor.component.ts
  - globcrm-web/src/app/features/auth/pages/two-factor/two-factor.component.html
  - globcrm-web/src/app/features/auth/pages/verify/verify.component.ts
  - globcrm-web/src/app/features/auth/pages/verify/verify.component.html
  - globcrm-web/src/app/features/onboarding/onboarding.routes.ts
  - globcrm-web/src/app/features/onboarding/pages/wizard/wizard.component.ts
  - globcrm-web/src/app/features/onboarding/pages/wizard/wizard.component.html
  - globcrm-web/src/app/features/onboarding/pages/wizard/configure-basics-step/configure-basics-step.component.ts
  - globcrm-web/src/app/features/onboarding/pages/wizard/configure-basics-step/configure-basics-step.component.html
  - globcrm-web/src/app/features/onboarding/pages/wizard/explore-data-step/explore-data-step.component.ts
  - globcrm-web/src/app/features/onboarding/pages/wizard/explore-data-step/explore-data-step.component.html
  - globcrm-web/src/app/features/onboarding/pages/wizard/invite-team-step/invite-team-step.component.ts
  - globcrm-web/src/app/features/onboarding/pages/wizard/invite-team-step/invite-team-step.component.html
  - globcrm-web/src/app/features/profile/profile.routes.ts
  - globcrm-web/src/app/features/profile/profile-view/profile-view.component.ts
  - globcrm-web/src/app/features/profile/profile-view/profile-view.component.html
  - globcrm-web/src/app/features/profile/profile-edit/profile-edit.component.ts
  - globcrm-web/src/app/features/profile/profile-edit/profile-edit.component.html
  - globcrm-web/src/app/features/profile/team-directory/team-directory.component.ts
  - globcrm-web/src/app/features/profile/team-directory/team-directory.component.html
  - globcrm-web/src/app/features/import/import.routes.ts
  - globcrm-web/src/app/features/import/import-wizard/import-wizard.component.ts
  - globcrm-web/src/app/features/import/import-wizard/step-upload.component.ts
  - globcrm-web/src/app/features/import/import-wizard/step-mapping.component.ts
  - globcrm-web/src/app/features/import/import-wizard/step-preview.component.ts
  - globcrm-web/src/app/features/import/import-wizard/step-progress.component.ts
  - globcrm-web/src/app/features/import/import-history/import-history.component.ts
  - globcrm-web/src/app/features/duplicates/duplicates.routes.ts
  - globcrm-web/src/app/features/duplicates/duplicate-scan/duplicate-scan.component.ts
  - globcrm-web/src/app/features/duplicates/merge-comparison/merge-comparison.component.ts
  - globcrm-web/src/app/features/settings/settings-hub.component.ts
  - globcrm-web/src/app/features/settings/roles/role-list.component.ts
  - globcrm-web/src/app/features/settings/roles/role-list.component.html
  - globcrm-web/src/app/features/settings/roles/role-edit.component.ts
  - globcrm-web/src/app/features/settings/roles/role-edit.component.html
  - globcrm-web/src/app/features/settings/roles/permission-matrix.component.ts
  - globcrm-web/src/app/features/settings/roles/permission-matrix.component.html
  - globcrm-web/src/app/features/settings/teams/team-list.component.ts
  - globcrm-web/src/app/features/settings/teams/team-list.component.html
  - globcrm-web/src/app/features/settings/teams/team-edit.component.ts
  - globcrm-web/src/app/features/settings/teams/team-edit.component.html
  - globcrm-web/src/app/features/settings/custom-fields/custom-field-list.component.ts
  - globcrm-web/src/app/features/settings/custom-fields/custom-field-list.component.html
  - globcrm-web/src/app/features/settings/custom-fields/custom-field-edit-dialog.component.ts
  - globcrm-web/src/app/features/settings/custom-fields/custom-field-edit-dialog.component.html
  - globcrm-web/src/app/features/settings/custom-fields/formula-editor/formula-editor.component.ts
  - globcrm-web/src/app/features/settings/custom-fields/formula-editor/formula-editor.component.html
  - globcrm-web/src/app/features/settings/pipelines/pipeline-list.component.ts
  - globcrm-web/src/app/features/settings/pipelines/pipeline-edit.component.ts
  - globcrm-web/src/app/features/settings/webhooks/webhook-list.component.ts
  - globcrm-web/src/app/features/settings/webhooks/webhook-detail.component.ts
  - globcrm-web/src/app/features/settings/webhooks/webhook-edit.component.ts
  - globcrm-web/src/app/features/settings/webhooks/webhook-delivery-log.component.ts
  - globcrm-web/src/app/features/settings/webhooks/webhook-test-dialog.component.ts
  - globcrm-web/src/app/features/settings/email-accounts/email-account-settings.component.ts
  - globcrm-web/src/app/features/settings/notification-preferences/notification-preferences.component.ts
  - globcrm-web/src/app/features/settings/duplicate-rules/duplicate-rules.component.ts
autonomous: true
requirements:
  - LOCL-03
  - LOCL-10

must_haves:
  truths:
    - "Auth pages (login, signup, forgot/reset password, 2FA, verify) render all labels in the selected language"
    - "Onboarding wizard steps render all labels in the selected language"
    - "Profile view, edit, and team directory pages render all labels in the selected language"
    - "Import wizard steps and history page render all labels in the selected language"
    - "Duplicate detection scan and merge comparison pages render all labels in the selected language"
    - "Settings sub-pages (roles, teams, custom-fields, pipelines, webhooks, email-accounts, notifications, duplicate-rules) render all labels in the selected language"
  artifacts:
    - path: "globcrm-web/src/assets/i18n/auth/en.json"
      provides: "Auth feature English translations"
      contains: "login"
    - path: "globcrm-web/src/assets/i18n/auth/tr.json"
      provides: "Auth feature Turkish translations"
      contains: "login"
    - path: "globcrm-web/src/assets/i18n/onboarding/en.json"
      provides: "Onboarding feature English translations"
      contains: "wizard"
    - path: "globcrm-web/src/assets/i18n/onboarding/tr.json"
      provides: "Onboarding feature Turkish translations"
      contains: "wizard"
    - path: "globcrm-web/src/assets/i18n/profile/en.json"
      provides: "Profile feature English translations"
      contains: "view"
    - path: "globcrm-web/src/assets/i18n/profile/tr.json"
      provides: "Profile feature Turkish translations"
      contains: "view"
    - path: "globcrm-web/src/assets/i18n/import/en.json"
      provides: "Import feature English translations"
      contains: "wizard"
    - path: "globcrm-web/src/assets/i18n/import/tr.json"
      provides: "Import feature Turkish translations"
      contains: "wizard"
    - path: "globcrm-web/src/assets/i18n/duplicates/en.json"
      provides: "Duplicates feature English translations"
      contains: "scan"
    - path: "globcrm-web/src/assets/i18n/duplicates/tr.json"
      provides: "Duplicates feature Turkish translations"
      contains: "scan"
    - path: "globcrm-web/src/assets/i18n/settings/en.json"
      provides: "Extended settings translations covering all sub-pages"
      contains: "roles"
    - path: "globcrm-web/src/assets/i18n/settings/tr.json"
      provides: "Extended settings Turkish translations covering all sub-pages"
      contains: "roles"
  key_links:
    - from: "globcrm-web/src/app/features/auth/auth.routes.ts"
      to: "globcrm-web/src/assets/i18n/auth/en.json"
      via: "provideTranslocoScope('auth')"
      pattern: "provideTranslocoScope.*auth"
    - from: "globcrm-web/src/app/features/settings/settings.routes.ts"
      to: "globcrm-web/src/assets/i18n/settings/en.json"
      via: "provideTranslocoScope('settings') (already wired)"
      pattern: "provideTranslocoScope.*settings"
    - from: "globcrm-web/src/app/features/auth/pages/login/login.component.ts"
      to: "globcrm-web/src/assets/i18n/auth/en.json"
      via: "transloco pipe referencing scoped auth login keys"
      pattern: "'login\\.|'signup\\.|'messages\\."
    - from: "globcrm-web/src/app/features/settings/roles/role-list.component.ts"
      to: "globcrm-web/src/assets/i18n/settings/en.json"
      via: "transloco pipe referencing scoped settings roles keys"
      pattern: "'roles\\.|'teams\\.|'customFields\\."
---

<objective>
Create translation scopes and extract all hardcoded strings for user-facing utility features (auth, onboarding, profile, import, duplicates) and extend the existing settings scope to cover all sub-pages.

Purpose: Auth pages are the first thing users see and need full localization. Settings sub-pages (roles, teams, custom fields, pipelines, webhooks, email accounts, notification preferences, duplicate rules) were partially scoped in Phase 27 (only hub + language page) and need completion. Import and duplicates are admin-facing but still need full i18n.

Output: Five new translation scopes (auth, onboarding, profile, import, duplicates) with EN/TR JSON files, route wiring, and all templates using transloco pipe. Settings scope extended to cover all sub-pages.
</objective>

<execution_context>
@C:/Users/maliy/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/maliy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/28-localization-string-extraction/28-CONTEXT.md
@.planning/phases/28-localization-string-extraction/28-RESEARCH.md
@.planning/phases/27-localization-foundation/27-04-SUMMARY.md
@globcrm-web/src/assets/i18n/settings/en.json
@globcrm-web/src/assets/i18n/settings/tr.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create auth, onboarding, and profile scopes and extend settings scope with all sub-page translations</name>
  <files>
    globcrm-web/src/assets/i18n/auth/en.json
    globcrm-web/src/assets/i18n/auth/tr.json
    globcrm-web/src/assets/i18n/onboarding/en.json
    globcrm-web/src/assets/i18n/onboarding/tr.json
    globcrm-web/src/assets/i18n/profile/en.json
    globcrm-web/src/assets/i18n/profile/tr.json
    globcrm-web/src/assets/i18n/settings/en.json
    globcrm-web/src/assets/i18n/settings/tr.json
    globcrm-web/src/app/features/auth/auth.routes.ts
    globcrm-web/src/app/features/auth/pages/login/login.component.ts
    globcrm-web/src/app/features/auth/pages/login/login.component.html
    globcrm-web/src/app/features/auth/pages/signup/signup.component.ts
    globcrm-web/src/app/features/auth/pages/signup/signup.component.html
    globcrm-web/src/app/features/auth/pages/signup/create-org/create-org.component.ts
    globcrm-web/src/app/features/auth/pages/signup/create-org/create-org.component.html
    globcrm-web/src/app/features/auth/pages/signup/join-org/join-org.component.ts
    globcrm-web/src/app/features/auth/pages/signup/join-org/join-org.component.html
    globcrm-web/src/app/features/auth/pages/forgot-password/forgot-password.component.ts
    globcrm-web/src/app/features/auth/pages/forgot-password/forgot-password.component.html
    globcrm-web/src/app/features/auth/pages/reset-password/reset-password.component.ts
    globcrm-web/src/app/features/auth/pages/reset-password/reset-password.component.html
    globcrm-web/src/app/features/auth/pages/two-factor/two-factor.component.ts
    globcrm-web/src/app/features/auth/pages/two-factor/two-factor.component.html
    globcrm-web/src/app/features/auth/pages/verify/verify.component.ts
    globcrm-web/src/app/features/auth/pages/verify/verify.component.html
    globcrm-web/src/app/features/onboarding/onboarding.routes.ts
    globcrm-web/src/app/features/onboarding/pages/wizard/wizard.component.ts
    globcrm-web/src/app/features/onboarding/pages/wizard/wizard.component.html
    globcrm-web/src/app/features/onboarding/pages/wizard/configure-basics-step/configure-basics-step.component.ts
    globcrm-web/src/app/features/onboarding/pages/wizard/configure-basics-step/configure-basics-step.component.html
    globcrm-web/src/app/features/onboarding/pages/wizard/explore-data-step/explore-data-step.component.ts
    globcrm-web/src/app/features/onboarding/pages/wizard/explore-data-step/explore-data-step.component.html
    globcrm-web/src/app/features/onboarding/pages/wizard/invite-team-step/invite-team-step.component.ts
    globcrm-web/src/app/features/onboarding/pages/wizard/invite-team-step/invite-team-step.component.html
    globcrm-web/src/app/features/profile/profile.routes.ts
    globcrm-web/src/app/features/profile/profile-view/profile-view.component.ts
    globcrm-web/src/app/features/profile/profile-view/profile-view.component.html
    globcrm-web/src/app/features/profile/profile-edit/profile-edit.component.ts
    globcrm-web/src/app/features/profile/profile-edit/profile-edit.component.html
    globcrm-web/src/app/features/profile/team-directory/team-directory.component.ts
    globcrm-web/src/app/features/profile/team-directory/team-directory.component.html
    globcrm-web/src/app/features/settings/settings-hub.component.ts
    globcrm-web/src/app/features/settings/roles/role-list.component.ts
    globcrm-web/src/app/features/settings/roles/role-list.component.html
    globcrm-web/src/app/features/settings/roles/role-edit.component.ts
    globcrm-web/src/app/features/settings/roles/role-edit.component.html
    globcrm-web/src/app/features/settings/roles/permission-matrix.component.ts
    globcrm-web/src/app/features/settings/roles/permission-matrix.component.html
    globcrm-web/src/app/features/settings/teams/team-list.component.ts
    globcrm-web/src/app/features/settings/teams/team-list.component.html
    globcrm-web/src/app/features/settings/teams/team-edit.component.ts
    globcrm-web/src/app/features/settings/teams/team-edit.component.html
    globcrm-web/src/app/features/settings/custom-fields/custom-field-list.component.ts
    globcrm-web/src/app/features/settings/custom-fields/custom-field-list.component.html
    globcrm-web/src/app/features/settings/custom-fields/custom-field-edit-dialog.component.ts
    globcrm-web/src/app/features/settings/custom-fields/custom-field-edit-dialog.component.html
    globcrm-web/src/app/features/settings/custom-fields/formula-editor/formula-editor.component.ts
    globcrm-web/src/app/features/settings/custom-fields/formula-editor/formula-editor.component.html
    globcrm-web/src/app/features/settings/pipelines/pipeline-list.component.ts
    globcrm-web/src/app/features/settings/pipelines/pipeline-edit.component.ts
    globcrm-web/src/app/features/settings/webhooks/webhook-list.component.ts
    globcrm-web/src/app/features/settings/webhooks/webhook-detail.component.ts
    globcrm-web/src/app/features/settings/webhooks/webhook-edit.component.ts
    globcrm-web/src/app/features/settings/webhooks/webhook-delivery-log.component.ts
    globcrm-web/src/app/features/settings/webhooks/webhook-test-dialog.component.ts
    globcrm-web/src/app/features/settings/email-accounts/email-account-settings.component.ts
    globcrm-web/src/app/features/settings/notification-preferences/notification-preferences.component.ts
    globcrm-web/src/app/features/settings/duplicate-rules/duplicate-rules.component.ts
  </files>
  <action>
1. Read ALL component files in auth, onboarding, profile, and settings feature directories.

**Auth scope** (`assets/i18n/auth/`): Auth has 8 HTML templates (login, signup steps, forgot password, reset password, 2FA, email verify).
- `login.*`: title, emailLabel, passwordLabel, rememberMe, forgotPassword link, signInButton, signUpLink, error messages (invalidCredentials, accountLocked, etc.)
- `signup.*`: step labels (account, organization, team), field labels (name, email, password, confirmPassword, companyName, subdomain), validation messages, termsAgree, createAccountButton
- `forgotPassword.*`: title, emailLabel, sendResetLink, backToLogin, successMessage
- `resetPassword.*`: title, newPassword, confirmPassword, resetButton, successMessage
- `twoFactor.*`: title, codeLabel, verifyButton, resendCode
- `verify.*`: title, message, resendLink
- `messages.*`: all snackbar messages

Note: The global `auth` section in en.json has basic auth labels. The auth SCOPE has the full page content. No collision because scoped components resolve scope keys first.

**Onboarding scope** (`assets/i18n/onboarding/`): Has 4 HTML templates (wizard + 3 steps).
- `wizard.*`: title, step labels, next/back/finish buttons, progress indicator labels
- `steps.*`: each step's title, description, field labels, help text
- `messages.*`: completion success

**Profile scope** (`assets/i18n/profile/`): Has 3 HTML templates (view, edit, team-directory).
- `view.*`: title, field labels (name, email, phone, role, team, joined date, avatar), edit button
- `edit.*`: title, field labels, change password section, save/cancel buttons
- `teamDirectory.*`: title, search, empty state, member card labels
- `messages.*`: profile updated, password changed, avatar uploaded success/failure

**Settings scope extension**: The existing settings/en.json has hub, language, and items sections. Read ALL settings sub-page components (roles, teams, custom-fields, pipelines, webhooks, email-accounts, notification-preferences, duplicate-rules) and add their strings to the existing JSON. Preserve all existing keys.
- `roles.*`: role list, create/edit role dialog, permission matrix labels, scope labels (None/Own/Team/All), field access labels (Editable/ReadOnly/Hidden)
- `teams.*`: team list, create/edit team dialog, member management
- `customFields.*`: field list, create/edit field dialog, field type labels, entity selector
- `pipelines.*`: pipeline list, create/edit pipeline, stage management, win/loss settings
- `webhooks.*`: webhook list, create/edit webhook, event selector, delivery log labels
- `emailAccounts.*`: account list, connect dialog, OAuth labels
- `notifications.*`: preference categories, toggle labels, delivery method labels
- `duplicateRules.*`: rule list, matching criteria, threshold settings

3. Wire `provideTranslocoScope()` in auth.routes.ts, onboarding.routes.ts, and profile.routes.ts. Settings already has scope wiring from Phase 27.

4. Add `TranslocoPipe` to ALL component imports. Replace all hardcoded strings. Inject `TranslocoService` for snackbar calls.

Turkish translations: Giris (Login), Kayit (Sign Up), Profil (Profile), Ayarlar (Settings). Use formal "siz" form throughout. Auth error messages should be clear and professional.

IMPORTANT: Settings has many inline-template sub-page components. List the settings directory recursively to find all component files.
  </action>
  <verify>
Run `cd globcrm-web && npx ng build --configuration development 2>&1 | head -50`. Verify scope wiring for new routes. Verify settings JSON still valid: `node -e "JSON.parse(require('fs').readFileSync('./globcrm-web/src/assets/i18n/settings/en.json','utf8')); console.log('Settings EN JSON valid')"`.
  </verify>
  <done>Auth, onboarding, and profile scopes created. Settings scope extended with all sub-page translations. All component templates use transloco pipe. Angular builds without errors.</done>
</task>

<task type="auto">
  <name>Task 2: Create import and duplicates scopes, wire routes, and replace all remaining template strings</name>
  <files>
    globcrm-web/src/assets/i18n/import/en.json
    globcrm-web/src/assets/i18n/import/tr.json
    globcrm-web/src/assets/i18n/duplicates/en.json
    globcrm-web/src/assets/i18n/duplicates/tr.json
    globcrm-web/src/app/features/import/import.routes.ts
    globcrm-web/src/app/features/import/import-wizard/import-wizard.component.ts
    globcrm-web/src/app/features/import/import-wizard/step-upload.component.ts
    globcrm-web/src/app/features/import/import-wizard/step-mapping.component.ts
    globcrm-web/src/app/features/import/import-wizard/step-preview.component.ts
    globcrm-web/src/app/features/import/import-wizard/step-progress.component.ts
    globcrm-web/src/app/features/import/import-history/import-history.component.ts
    globcrm-web/src/app/features/duplicates/duplicates.routes.ts
    globcrm-web/src/app/features/duplicates/duplicate-scan/duplicate-scan.component.ts
    globcrm-web/src/app/features/duplicates/merge-comparison/merge-comparison.component.ts
  </files>
  <action>
1. Read ALL component files in import and duplicates feature directories.

**Import scope** (`assets/i18n/import/`): Has ~6 inline template components (wizard, steps, history).
- `title`, `wizard.*`: step labels (upload, mapping, preview, import), navigation buttons
- `upload.*`: file selection, drag/drop zone, supported formats, file size limit
- `mapping.*`: column mapping labels, source column, target field, skip column, auto-detect
- `preview.*`: preview table labels, row count, validation errors, warnings
- `import.*`: progress labels, success/error counts, import button
- `history.*`: title, table headers (date, file, entity, rows, status, user), empty state, status labels (completed, failed, partial)
- `messages.*`: import started, completed, failed, file invalid success/failure

**Duplicates scope** (`assets/i18n/duplicates/`): Has 2 inline template components (scan, merge-comparison).
- `title`, `scan.*`: title, entity selector, scan button, progress, results count, potential duplicates list labels, confidence score
- `merge.*`: title, comparison table labels, master record selector, field-by-field comparison labels, merge button, keep/discard labels
- `results.*`: matched count, reviewed count, merged count, dismissed
- `messages.*`: scan started, merge completed, merge failed, dismissed success/failure

2. Wire `provideTranslocoScope()` in import.routes.ts and duplicates.routes.ts.

3. Add `TranslocoPipe` to all component imports. Replace all hardcoded strings. Inject `TranslocoService` for snackbar calls.

Turkish translations: Icerik Aktarimi (Import), Tekrar Tespiti (Duplicates). Keep professional vocabulary. Import wizard steps should be clear and action-oriented.
  </action>
  <verify>
Run `cd globcrm-web && npx ng build --configuration development 2>&1 | head -50`. Verify scope wiring. Verify EN/TR key parity for each new scope.
  </verify>
  <done>Import and duplicates scopes created with complete EN/TR translations, routes wired, all templates using transloco pipe. Angular builds without errors.</done>
</task>

</tasks>

<verification>
- `cd globcrm-web && npx ng build --configuration development` compiles without errors
- Auth, onboarding, profile, import, duplicates route files have provideTranslocoScope wired
- Settings JSON extended with comprehensive sub-page translations
- All new JSON files have identical EN/TR key structures
- Run dev server, navigate to Login page in Turkish -- all labels display in Turkish
- Navigate to Settings > Roles in Turkish -- permission matrix labels display in Turkish
</verification>

<success_criteria>
- Five new scopes created (auth, onboarding, profile, import, duplicates) with route wiring
- Settings scope extended to cover all ~8 sub-pages
- Twelve new JSON files (en.json + tr.json for five scopes + settings extension)
- All component templates across these features use transloco pipe
- All snackBar.open() calls use translated messages
- Angular project compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/28-localization-string-extraction/28-06-SUMMARY.md`
</output>
