---
phase: 30-free-form-kanban-boards
plan: 06
type: execute
wave: 6
depends_on: [30-05]
files_modified:
  - globcrm-web/src/assets/i18n/boards/en.json
  - globcrm-web/src/assets/i18n/boards/tr.json
  - globcrm-web/src/assets/i18n/en.json
  - globcrm-web/src/assets/i18n/tr.json
  - globcrm-web/src/app/features/boards/boards-list/boards-list.component.ts
  - globcrm-web/src/app/features/boards/board-detail/board-detail.component.ts
  - globcrm-web/src/app/features/boards/board-card/board-card.component.ts
  - globcrm-web/src/app/features/boards/card-detail-panel/card-detail-panel.component.ts
  - globcrm-web/src/app/features/boards/board-create-dialog/board-create-dialog.component.ts
  - globcrm-web/src/app/features/boards/board-filter-panel/board-filter-panel.component.ts
autonomous: false
requirements:
  - KANB-01
  - KANB-02
  - KANB-03
  - KANB-04
  - KANB-05
  - KANB-06
  - KANB-07
  - KANB-08
  - KANB-09
  - KANB-10
  - KANB-11
  - KANB-12
  - KANB-13
  - KANB-14
  - KANB-15
  - KANB-16
  - KANB-17
  - KANB-18

must_haves:
  truths:
    - "All board UI strings render in selected language (EN/TR) via Transloco translation pipe"
    - "Boards feature has a lazy-loaded Transloco scope with EN and TR translation JSON files"
    - "Nav item 'Boards' is translated in global EN/TR JSON files"
    - "Board templates (Sprint, Content Calendar, Sales Follow-up) have translated names and descriptions"
    - "All board, column, card, label, checklist, and comment UI labels are translated"
    - "Human verification confirms the full Kanban boards feature works end-to-end"
  artifacts:
    - path: "globcrm-web/src/assets/i18n/boards/en.json"
      provides: "English translations for boards feature scope"
      contains: "boards.list.title"
    - path: "globcrm-web/src/assets/i18n/boards/tr.json"
      provides: "Turkish translations for boards feature scope"
      contains: "boards.list.title"
  key_links:
    - from: "boards.routes.ts"
      to: "assets/i18n/boards/{lang}.json"
      via: "provideTranslocoScope('boards') lazy-loads translations"
      pattern: "provideTranslocoScope.*boards"
    - from: "All board components"
      to: "TranslocoPipe"
      via: "Template strings use transloco pipe"
      pattern: "\\| transloco"
---

<objective>
Add full i18n support with Transloco lazy-loaded scope for the boards feature (EN + TR translations), ensure all hardcoded strings across all board components are replaced with translation keys, and verify the complete Kanban boards feature end-to-end.

Purpose: Complete the phase by ensuring all UI strings are translatable (matching the project's i18n standard from Phases 27-28) and performing a final human verification of the entire feature.

Output: Boards-scoped EN/TR JSON translation files, all board components wired with TranslocoPipe, and a verified, complete Kanban boards feature.
</objective>

<execution_context>
@C:/Users/maliy/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/maliy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/30-free-form-kanban-boards/30-RESEARCH.md
@.planning/phases/30-free-form-kanban-boards/30-05-SUMMARY.md

Reference for i18n patterns:
@globcrm-web/src/assets/i18n/en.json (global EN translations — nav.boards key)
@globcrm-web/src/assets/i18n/tr.json (global TR translations)
@globcrm-web/src/assets/i18n/contacts/en.json (feature scope EN pattern)
@globcrm-web/src/assets/i18n/contacts/tr.json (feature scope TR pattern)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create boards Transloco scope translations and wire all components</name>
  <files>
    globcrm-web/src/assets/i18n/boards/en.json
    globcrm-web/src/assets/i18n/boards/tr.json
    globcrm-web/src/assets/i18n/en.json
    globcrm-web/src/assets/i18n/tr.json
    globcrm-web/src/app/features/boards/boards-list/boards-list.component.ts
    globcrm-web/src/app/features/boards/board-detail/board-detail.component.ts
    globcrm-web/src/app/features/boards/board-card/board-card.component.ts
    globcrm-web/src/app/features/boards/card-detail-panel/card-detail-panel.component.ts
    globcrm-web/src/app/features/boards/board-create-dialog/board-create-dialog.component.ts
    globcrm-web/src/app/features/boards/board-filter-panel/board-filter-panel.component.ts
  </files>
  <action>
    **Global translations (add to existing en.json / tr.json):**
    Add nav key:
    - EN: `"nav.boards": "Boards"`
    - TR: `"nav.boards": "Panolar"`

    **Boards scope EN translations (assets/i18n/boards/en.json):**
    Create comprehensive EN JSON covering ALL board UI strings. Structure:
    ```json
    {
      "boards": {
        "list": {
          "title": "Boards",
          "newBoard": "New Board",
          "systemBoards": "System Boards",
          "myBoards": "My Boards",
          "teamBoards": "Team Boards",
          "columns": "columns",
          "cards": "cards",
          "system": "System"
        },
        "empty": {
          "title": "Organize your work visually",
          "description": "Create custom Kanban boards to track any type of work. Start with a template or build from scratch.",
          "createBoard": "Create Board"
        },
        "system": {
          "dealPipeline": "Deal Pipeline",
          "dealPipelineDesc": "Track deals through your sales pipeline",
          "activityBoard": "Activity Board",
          "activityBoardDesc": "Manage activities and tasks"
        },
        "create": {
          "title": "Create Board",
          "editTitle": "Edit Board",
          "selectTemplate": "Choose a template",
          "blankBoard": "Blank Board",
          "blankBoardDesc": "Start with an empty board",
          "boardName": "Board Name",
          "boardNamePlaceholder": "Enter board name...",
          "description": "Description",
          "descriptionPlaceholder": "What is this board for?",
          "color": "Color",
          "visibility": "Visibility",
          "visibilityPrivate": "Private",
          "visibilityPrivateDesc": "Only you can see this board",
          "visibilityTeam": "Team",
          "visibilityTeamDesc": "Team members can see this board",
          "visibilityPublic": "Public",
          "visibilityPublicDesc": "All users can see this board",
          "selectTeam": "Select Team",
          "create": "Create",
          "cancel": "Cancel"
        },
        "templates": {
          "sprint": { "name": "Sprint Board", "description": "Track sprint tasks from backlog to done" },
          "content": { "name": "Content Calendar", "description": "Plan and track content creation" },
          "sales": { "name": "Sales Follow-up", "description": "Track sales outreach and follow-ups" }
        },
        "detail": {
          "backToBoards": "Back to Boards",
          "editBoard": "Edit Board",
          "deleteBoard": "Delete Board",
          "deleteConfirm": "Are you sure you want to delete this board? All columns and cards will be permanently removed.",
          "filter": "Filter",
          "activeFilters": "active filters",
          "addColumn": "Add Column",
          "columnNamePlaceholder": "Column name...",
          "addCard": "Add Card",
          "cardTitlePlaceholder": "Card title...",
          "wipLimit": "WIP Limit",
          "wipExceeded": "Over limit",
          "setWipLimit": "Set WIP Limit",
          "renameColumn": "Rename Column",
          "changeColor": "Change Color",
          "deleteColumn": "Delete Column",
          "deleteColumnConfirm": "Delete this column? Cards will be moved to the first column.",
          "collapseColumn": "Collapse",
          "expandColumn": "Expand"
        },
        "card": {
          "edit": "Edit",
          "archive": "Archive",
          "unarchive": "Unarchive",
          "labels": "Labels",
          "unassigned": "Unassigned",
          "overdue": "Overdue",
          "dueToday": "Due today",
          "dueSoon": "Due soon",
          "noDate": "No due date"
        },
        "cardDetail": {
          "description": "Description",
          "descriptionPlaceholder": "Add a more detailed description...",
          "assignee": "Assignee",
          "selectAssignee": "Select assignee",
          "dueDate": "Due Date",
          "selectDate": "Select date",
          "labels": "Labels",
          "addLabel": "Add Label",
          "createLabel": "Create Label",
          "labelName": "Label name",
          "labelColor": "Label color",
          "entityLink": "Linked Entity",
          "linkEntity": "Link to Entity",
          "searchEntity": "Search entities...",
          "selectEntityType": "Entity type",
          "removeLink": "Remove link",
          "checklist": "Checklist",
          "addItem": "Add item...",
          "comments": "Comments",
          "addComment": "Add a comment...",
          "reply": "Reply",
          "editComment": "Edit",
          "deleteComment": "Delete",
          "submit": "Submit",
          "archiveCard": "Archive Card"
        },
        "filter": {
          "labels": "Labels",
          "assignee": "Assignee",
          "dueDate": "Due Date",
          "overdue": "Overdue",
          "today": "Today",
          "thisWeek": "This Week",
          "noDueDate": "No Due Date",
          "all": "All",
          "unassigned": "Unassigned",
          "clearAll": "Clear All"
        },
        "messages": {
          "boardCreated": "Board created",
          "boardUpdated": "Board updated",
          "boardDeleted": "Board deleted",
          "columnCreated": "Column added",
          "columnDeleted": "Column deleted",
          "cardCreated": "Card created",
          "cardArchived": "Card archived",
          "cardMoveError": "Failed to move card",
          "wipExceeded": "Column '{{column}}' exceeds WIP limit",
          "commentAdded": "Comment added",
          "labelCreated": "Label created",
          "labelDeleted": "Label deleted"
        }
      }
    }
    ```

    **Boards scope TR translations (assets/i18n/boards/tr.json):**
    Create matching TR JSON with professional Turkish translations:
    ```json
    {
      "boards": {
        "list": {
          "title": "Panolar",
          "newBoard": "Yeni Pano",
          "systemBoards": "Sistem Panoları",
          "myBoards": "Panolarım",
          "teamBoards": "Takım Panoları",
          "columns": "sütun",
          "cards": "kart",
          "system": "Sistem"
        },
        "empty": {
          "title": "Çalışmanızı görsel olarak düzenleyin",
          "description": "Her türlü işi takip etmek için özel Kanban panoları oluşturun. Bir şablonla başlayın veya sıfırdan oluşturun.",
          "createBoard": "Pano Oluştur"
        },
        "system": {
          "dealPipeline": "Satış Hattı",
          "dealPipelineDesc": "Satış fırsatlarını takip edin",
          "activityBoard": "Aktivite Panosu",
          "activityBoardDesc": "Aktiviteleri ve görevleri yönetin"
        },
        "create": {
          "title": "Pano Oluştur",
          "editTitle": "Panoyu Düzenle",
          "selectTemplate": "Bir şablon seçin",
          "blankBoard": "Boş Pano",
          "blankBoardDesc": "Boş bir pano ile başlayın",
          "boardName": "Pano Adı",
          "boardNamePlaceholder": "Pano adı girin...",
          "description": "Açıklama",
          "descriptionPlaceholder": "Bu pano ne için?",
          "color": "Renk",
          "visibility": "Görünürlük",
          "visibilityPrivate": "Özel",
          "visibilityPrivateDesc": "Sadece siz görebilirsiniz",
          "visibilityTeam": "Takım",
          "visibilityTeamDesc": "Takım üyeleri görebilir",
          "visibilityPublic": "Herkese Açık",
          "visibilityPublicDesc": "Tüm kullanıcılar görebilir",
          "selectTeam": "Takım Seçin",
          "create": "Oluştur",
          "cancel": "İptal"
        },
        "templates": {
          "sprint": { "name": "Sprint Panosu", "description": "Sprint görevlerini takip edin" },
          "content": { "name": "İçerik Takvimi", "description": "İçerik oluşturmayı planlayın ve takip edin" },
          "sales": { "name": "Satış Takibi", "description": "Satış iletişimini ve takipleri yönetin" }
        },
        "detail": {
          "backToBoards": "Panolara Dön",
          "editBoard": "Panoyu Düzenle",
          "deleteBoard": "Panoyu Sil",
          "deleteConfirm": "Bu panoyu silmek istediğinizden emin misiniz? Tüm sütunlar ve kartlar kalıcı olarak kaldırılacak.",
          "filter": "Filtrele",
          "activeFilters": "aktif filtre",
          "addColumn": "Sütun Ekle",
          "columnNamePlaceholder": "Sütun adı...",
          "addCard": "Kart Ekle",
          "cardTitlePlaceholder": "Kart başlığı...",
          "wipLimit": "İş Limiti",
          "wipExceeded": "Limit aşıldı",
          "setWipLimit": "İş Limiti Belirle",
          "renameColumn": "Sütunu Yeniden Adlandır",
          "changeColor": "Rengi Değiştir",
          "deleteColumn": "Sütunu Sil",
          "deleteColumnConfirm": "Bu sütun silinsin mi? Kartlar ilk sütuna taşınacak.",
          "collapseColumn": "Daralt",
          "expandColumn": "Genişlet"
        },
        "card": {
          "edit": "Düzenle",
          "archive": "Arşivle",
          "unarchive": "Arşivden Çıkar",
          "labels": "Etiketler",
          "unassigned": "Atanmamış",
          "overdue": "Gecikmiş",
          "dueToday": "Bugün bitiyor",
          "dueSoon": "Yakında bitiyor",
          "noDate": "Tarih yok"
        },
        "cardDetail": {
          "description": "Açıklama",
          "descriptionPlaceholder": "Daha ayrıntılı bir açıklama ekleyin...",
          "assignee": "Atanan Kişi",
          "selectAssignee": "Kişi seçin",
          "dueDate": "Bitiş Tarihi",
          "selectDate": "Tarih seçin",
          "labels": "Etiketler",
          "addLabel": "Etiket Ekle",
          "createLabel": "Etiket Oluştur",
          "labelName": "Etiket adı",
          "labelColor": "Etiket rengi",
          "entityLink": "Bağlı Kayıt",
          "linkEntity": "Kayıt Bağla",
          "searchEntity": "Kayıt ara...",
          "selectEntityType": "Kayıt türü",
          "removeLink": "Bağlantıyı kaldır",
          "checklist": "Kontrol Listesi",
          "addItem": "Madde ekle...",
          "comments": "Yorumlar",
          "addComment": "Yorum ekle...",
          "reply": "Yanıtla",
          "editComment": "Düzenle",
          "deleteComment": "Sil",
          "submit": "Gönder",
          "archiveCard": "Kartı Arşivle"
        },
        "filter": {
          "labels": "Etiketler",
          "assignee": "Atanan Kişi",
          "dueDate": "Bitiş Tarihi",
          "overdue": "Gecikmiş",
          "today": "Bugün",
          "thisWeek": "Bu Hafta",
          "noDueDate": "Tarih Yok",
          "all": "Tümü",
          "unassigned": "Atanmamış",
          "clearAll": "Tümünü Temizle"
        },
        "messages": {
          "boardCreated": "Pano oluşturuldu",
          "boardUpdated": "Pano güncellendi",
          "boardDeleted": "Pano silindi",
          "columnCreated": "Sütun eklendi",
          "columnDeleted": "Sütun silindi",
          "cardCreated": "Kart oluşturuldu",
          "cardArchived": "Kart arşivlendi",
          "cardMoveError": "Kart taşınamadı",
          "wipExceeded": "'{{column}}' sütunu iş limitini aştı",
          "commentAdded": "Yorum eklendi",
          "labelCreated": "Etiket oluşturuldu",
          "labelDeleted": "Etiket silindi"
        }
      }
    }
    ```

    **Wire TranslocoPipe into all board components:**
    Ensure every board component (BoardsListComponent, BoardDetailComponent, BoardCardComponent, CardDetailPanelComponent, BoardCreateDialogComponent, BoardFilterPanelComponent):
    1. Has `TranslocoPipe` in its `imports` array
    2. All hardcoded string literals in templates are replaced with `{{ 'boards.xxx.yyy' | transloco }}` or `[placeholder]="'boards.xxx.yyy' | transloco"`
    3. Programmatic strings (snackbar messages, confirm dialogs) use `TranslocoService.translate('boards.xxx.yyy')` or `translate('boards.xxx.yyy', { param: value })` for interpolation
    4. Board template names and descriptions use `boards.templates.*.name` and `boards.templates.*.description` keys

    Verify boards.routes.ts has `provideTranslocoScope('boards')` in route providers for lazy-loading the boards scope.
  </action>
  <verify>
    1. `cd globcrm-web && npx ng build --configuration development` — builds without errors
    2. assets/i18n/boards/en.json and tr.json exist with matching key structures
    3. EN and TR JSON have identical key sets (no missing translations)
    4. Switch language to Turkish — all board UI strings change to Turkish
    5. No hardcoded English strings remain in board component templates
  </verify>
  <done>Boards feature has complete EN/TR translations via lazy-loaded Transloco scope. All board components use TranslocoPipe for template strings and TranslocoService.translate() for programmatic strings. Nav item translated in global scope.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify complete Kanban boards feature end-to-end</name>
  <what-built>Complete Kanban boards feature: boards list page with system boards, board creation from templates, kanban board view with columns and cards, dual drag-and-drop, card detail panel with labels/checklists/comments/entity linking, card filtering, and full EN/TR i18n support.</what-built>
  <how-to-verify>
    1. Start both backend and frontend dev servers
    2. Navigate to http://localhost:4200/boards via sidebar "Boards" link
    3. Verify empty state shows with template suggestions
    4. Verify System Boards section shows Deal Pipeline and Activity Board cards
    5. Click "New Board" — verify dialog shows templates (Sprint, Content Calendar, Sales Follow-up) + Blank Board
    6. Create a "Sprint Board" from template — verify board appears in My Boards section with columns pre-populated
    7. Click the board card — verify kanban view with columns: Backlog, To Do (WIP 5), In Progress (WIP 3), Review (WIP 2), Done
    8. Add a new card in "Backlog" column — verify card appears
    9. Drag the card from Backlog to "In Progress" — verify optimistic move with lifted card preview (rotation + shadow)
    10. Add enough cards to exceed WIP limit in a column — verify warning badge appears
    11. Click a card — verify detail panel slides in from right
    12. Edit card title, add description (rich text), set due date, assign user
    13. Create a label with custom color, add it to the card — verify colored bar on card face
    14. Add checklist items, toggle some as checked — verify progress indicator on card face
    15. Add a comment, reply to it — verify threaded display
    16. Link card to a Contact entity — verify entity badge on card, click opens preview sidebar
    17. Use filter panel: filter by label, by assignee, by due date — verify cards filter correctly
    18. Drag a column header to reorder columns — verify columns reorder
    19. Add a new column via "+" button — verify inline name input works
    20. Switch language to Turkish — verify all UI strings change to Turkish
    21. Delete the board — verify it's removed from the boards list
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
1. `cd globcrm-web && npx ng build --configuration development` — builds cleanly
2. EN/TR translation files have identical key structures
3. All board components use TranslocoPipe (no hardcoded strings)
4. Full feature works end-to-end as verified by human checkpoint
</verification>

<success_criteria>
- Boards-scoped EN/TR JSON files exist with comprehensive coverage
- All 6 board components use TranslocoPipe for template strings
- Language switch works correctly for all board UI
- Human verification confirms complete feature functionality
- All 18 KANB requirements are met
</success_criteria>

<output>
After completion, create `.planning/phases/30-free-form-kanban-boards/30-06-SUMMARY.md`
</output>
